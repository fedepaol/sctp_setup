FROM centos:7 AS builder
RUN yum -y groupinstall 'Development Tools' && yum -y install lksctp-tools-devel gcc lksctp-tools kernel-modules-extra && yum clean all -y
COPY samplebuild/src/* /src/
RUN gcc /src/sctp.c -o /src/sctpclient -lsctp
FROM centos:7
COPY --from=builder /src/sctpclient /usr/local/bin/sctpclient
CMD ["/usr/bin/sctptest"]